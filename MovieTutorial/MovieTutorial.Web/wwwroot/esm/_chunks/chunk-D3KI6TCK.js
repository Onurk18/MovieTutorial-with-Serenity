import{a as t,b as Re,c as o,d as x,e as G,f as c,g as y}from"./chunk-FEDAVPE7.js";var N=Re(($e,w)=>{w.exports=Serenity.Extensions});var h=class{};t(h,"GenreColumns"),h.columnsKey="MovieDB.Genre";var P=o(c(),1);var d=class{static getLookup(){return(0,P.getLookup)("MovieDB.Genre")}static getLookupAsync(){return G(this,null,function*(){return(0,P.getLookupAsync)("MovieDB.Genre")})}};t(d,"GenreRow"),d.idProperty="GenreId",d.nameProperty="Name",d.localTextPrefix="MovieDB.Genre",d.lookupKey="MovieDB.Genre",d.deletePermission="Administration:General",d.insertPermission="Administration:General",d.readPermission="Administration:General",d.updatePermission="Administration:General",d.Fields=(0,P.fieldsProxy)();var W=o(c(),1),j;(e=>(e.baseUrl="MovieDB/Genre",e.Methods={Create:"MovieDB/Genre/Create",Update:"MovieDB/Genre/Update",Delete:"MovieDB/Genre/Delete",Retrieve:"MovieDB/Genre/Retrieve",List:"MovieDB/Genre/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(p,a,m){return(0,W.serviceRequest)(e.baseUrl+"/"+r,p,a,m)}})))(j||(j={}));var me=o(y(),1),ve=o(c(),1);var z=o(y(),1),A=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(A||{});z.Decorators.registerEnumType(A,"MovieTutorial.MovieDB.Gender","MovieDB.Gender");var O=o(y(),1),V=o(c(),1);var E=class extends O.PrefixedContext{constructor(s){if(super(s),!E.init){E.init=!0;var e=O.StringEditor;(0,V.initFormType)(E,["Name",e])}}},C=E;t(C,"GenreForm"),C.formKey="MovieDB.Genre";var H=class{};t(H,"MovieCastColumns"),H.columnsKey="MovieDB.MovieCast";var B=o(y(),1),Z=o(c(),1);var I=class extends B.PrefixedContext{constructor(s){if(super(s),!I.init){I.init=!0;var e=B.LookupEditor,r=B.StringEditor;(0,Z.initFormType)(I,["PersonId",e,"Character",r])}}},D=I;t(D,"MovieCastForm"),D.formKey="MovieDB.MovieCast";var $=o(c(),1);var n=class{};t(n,"MovieCastRow"),n.idProperty="MovieCastId",n.nameProperty="Character",n.localTextPrefix="MovieDB.MovieCast",n.deletePermission="Administration:General",n.insertPermission="Administration:General",n.readPermission="Administration:General",n.updatePermission="Administration:General",n.Fields=(0,$.fieldsProxy)();var _=o(c(),1),J;(e=>(e.baseUrl="MovieDB/MovieCast",e.Methods={Create:"MovieDB/MovieCast/Create",Update:"MovieDB/MovieCast/Update",Delete:"MovieDB/MovieCast/Delete",Retrieve:"MovieDB/MovieCast/Retrieve",List:"MovieDB/MovieCast/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(p,a,m){return(0,_.serviceRequest)(e.baseUrl+"/"+r,p,a,m)}})))(J||(J={}));var l=o(y(),1);var re=o(y(),1),oe=o(N(),1);var ee=o(y(),1),te=o(N(),1);var M=class extends te.GridEditorDialog{constructor(){super();this.form=new D(this.idPrefix)}getFormKey(){return D.formKey}getNameProperty(){return n.nameProperty}getLocalTextPrefix(){return n.localTextPrefix}};t(M,"MovieCastEditDialog"),M=x([ee.Decorators.registerClass("MovieTutorial.MovieDB.MovieCastEditDialog")],M);var g=class extends oe.GridEditorBase{getColumnsKey(){return"MovieDB.MovieCast"}getLocalTextPrefix(){return n.localTextPrefix}getDialogType(){return M}validateEntity(s,e){return super.validateEntity(s,e)?(s.PersonFullname=u.getLookup().itemById[s.PersonId].Fullname,!0):!1}constructor(s){super(s)}getAddButtonCaption(){return"Add"}};t(g,"MovieCastEditor"),g=x([re.Decorators.registerEditor("MovieTutorial.MovieDB.MovieCastEditor")],g);var ie=o(y(),1),Y=(r=>(r[r.Film=1]="Film",r[r.TvSeries=2]="TvSeries",r[r.MiniSeries=3]="MiniSeries",r))(Y||{});ie.Decorators.registerEnumType(Y,"MovieTutorial.Web.Modules.MovieDB.Movie.MovieKind","MovieDB.MovieKind");var se=o(c(),1);var T=class extends l.PrefixedContext{constructor(s){if(super(s),!T.init){T.init=!0;var e=l.StringEditor,r=l.TextAreaEditor,p=g,a=l.IntegerEditor,m=l.DateEditor,ye=l.LookupEditor,fe=l.EnumEditor;(0,se.initFormType)(T,["Title",e,"Description",r,"CastList",p,"Storyline",r,"Year",a,"ReleaseDate",m,"Runtime",a,"GenreList",ye,"Kind",fe])}}},Q=T;t(Q,"MovieForm"),Q.formKey="MovieDB.Movie";var ne=o(c(),1);var f=class{};t(f,"MovieGenresRow"),f.idProperty="MovieGenreId",f.localTextPrefix="MovieDB.MovieGenres",f.deletePermission="Administration:General",f.insertPermission="Administration:General",f.readPermission="Administration:General",f.updatePermission="Administration:General",f.Fields=(0,ne.fieldsProxy)();var ae=o(c(),1);var v=class{};t(v,"MovieRow"),v.idProperty="MovieId",v.nameProperty="Title",v.localTextPrefix="MovieDB.Movie",v.deletePermission="Administration:General",v.insertPermission="Administration:General",v.readPermission="Administration:General",v.updatePermission="Administration:General",v.Fields=(0,ae.fieldsProxy)();var ce=o(c(),1),pe;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(p,a,m){return(0,ce.serviceRequest)(e.baseUrl+"/"+r,p,a,m)}})))(pe||(pe={}));var U=class{};t(U,"PersonColumns"),U.columnsKey="MovieDB.Person";var R=o(y(),1);var X=o(y(),1);var S=class extends X.EntityGrid{constructor(e){super(e)}getColumnsKey(){return"MovieDB.PersonMovie"}getIdProperty(){return n.idProperty}getLocalTextPrefix(){return n.localTextPrefix}getService(){return J.baseUrl}getButtons(){return null}getInitialTitle(){return null}usePager(){return!1}getGridCanLoad(){return this.personID!=null}get personID(){return this._personID}set personID(e){this._personID!=e&&(this._personID=e,this.setEquality(n.Fields.PersonId,e),this.refresh())}};t(S,"PersonMovieGrid"),S=x([X.Decorators.registerEditor("MovieTutorial.MovieDB.PersonMovieGrid")],S);var de=o(c(),1);var b=class extends R.PrefixedContext{constructor(s){if(super(s),!b.init){b.init=!0;var e=R.StringEditor,r=R.DateEditor,p=R.EnumEditor,a=R.IntegerEditor,m=S;(0,de.initFormType)(b,["FirstName",e,"Lastname",e,"BirthDate",r,"BirthPlace",e,"Gender",p,"Height",a,"MoviesGrid",m])}}},F=b;t(F,"PersonForm"),F.formKey="MovieDB.Person";var K=class{};t(K,"PersonMovieColumns"),K.columnsKey="MovieDB.PersonMovie";var q=o(c(),1);var u=class{static getLookup(){return(0,q.getLookup)("MovieDB.Person")}static getLookupAsync(){return G(this,null,function*(){return(0,q.getLookupAsync)("MovieDB.Person")})}};t(u,"PersonRow"),u.idProperty="PersonId",u.nameProperty="Fullname",u.localTextPrefix="MovieDB.Person",u.lookupKey="MovieDB.Person",u.deletePermission="Administration:General",u.insertPermission="Administration:General",u.readPermission="Administration:General",u.updatePermission="Administration:General",u.Fields=(0,q.fieldsProxy)();var le=o(c(),1),ue;(e=>(e.baseUrl="MovieDB/Person",e.Methods={Create:"MovieDB/Person/Create",Update:"MovieDB/Person/Update",Delete:"MovieDB/Person/Delete",Retrieve:"MovieDB/Person/Retrieve",List:"MovieDB/Person/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(p,a,m){return(0,le.serviceRequest)(e.baseUrl+"/"+r,p,a,m)}})))(ue||(ue={}));var L=class{format(s){let e=s.value;if(!e||!e.length)return"";let r=d.getLookup().itemById;return e.map(p=>{let a=r[p];return a?(0,ve.htmlEncode)(a.Name):p.toString()}).join(", ")}};t(L,"GenreListFormatter"),L=x([me.Decorators.registerFormatter("MovieTutorial.MovieDB.GenreListFormatter")],L);var k=class{};t(k,"MovieColumns"),k.columnsKey="MovieDB.Movie";export{h as a,C as b,d as c,j as d,k as e,Q as f,v as g,pe as h,U as i,F as j,u as k,ue as l};
//# sourceMappingURL=chunk-D3KI6TCK.js.map
